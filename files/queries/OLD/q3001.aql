set `compiler.joinmemory`
@PARAM
;
select count(*) from w1 ds1,w2 ds2, w3 ds3
 where ds1.unique1 >
 @PARAM
  and ds1.unique1 <
  @PARAM
  and ds2.unique1 >
  @PARAM
  and ds2.unique1 <
  @PARAM
  and ds3.unique1 >
    @PARAM
    and ds3.unique1 <
    @PARAM
  and ds1.unique1=ds2.unique1
   and ds2.unique1=ds3.unique1;